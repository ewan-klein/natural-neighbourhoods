<!DOCTYPE html>
<html>
  <head>
    <title>Leaflet.heat demo</title>
    <link rel="stylesheet" href="http://cdn.leafletjs.com/leaflet-0.7.2/leaflet.css" />
    <script src="http://cdn.leafletjs.com/leaflet-0.7.2/leaflet.js"></script>
    <script src="http://leaflet.github.io/Leaflet.markercluster/example/realworld.10000.js"></script>
    <script src="leaflet-heat.js"></script>
    <script>
     window.onload = function () {
       var map = L.map('map').setView([55.9436,-3.2100], 12);

       var tiles = L.tileLayer('http://{s}.tiles.mapbox.com/v3/{id}/{z}/{x}/{y}.png', {
	 attribution: '<a href="https://www.mapbox.com/about/maps/">Terms and Feedback</a>',
	 id: 'examples.map-20v6611k'
       }).addTo(map);

       var heat = L.heatLayer(addressPoints).addTo(map),
       draw = true;

       map.on({
	 movestart: function () { draw = false; },
	 moveend:   function () { draw = true; },
	 mousemove: function (e) {
           if (draw) {
             heat.addLatLng(e.latlng);
           }
	 }
       })
     }
    </script>
    <style>
     #map {
       width: 1000px;
       height: 800px; }
    </style>

  </head>

  <body>

    <div id="map"></div>

  </body>
</html>
